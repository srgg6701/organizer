<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Pure JS greets you!</title>
    <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.min.css.map">
    <style>
    </style>
    <script src="../../bower_components/jquery/dist/jquery.js"></script>
    <script>
        $(function () {
            
            var deffr = $.Deferred(),
                promise = deffr.promise();
            console.log('Deffered state init: ', deffr.state());

            promise.then(function(){
                console.log('%cSuccess, ' + this.state(), 'background-color:lightgreen');
            }, function(){
                console.log('%cNo success, ' + this.state(), 'background-color:goldenrod');
            });

            promise.done(function(){
                console.log('%cpromise.done', 'color: blue; text-decoration: underline');
            });
            promise.fail(function(){
                console.log('%cpromise.fail', 'color: red; text-decoration: underline');
            });

            deffr.done(function(){
                console.log("Done");
            });

            deffr.fail(function(){
                console.log("Fail");
            });

            deffr.then(function(){
                console.log("%cОбъект Deferred принял состояние resolved.", 'color:green');
            }, function(){
                console.log("%cОбъект Deferred принял состояние rejected.", 'color:orangered');
            });

            deffr.always(function(){
                console.log('Always. Now state is', this.state());
                console.log("%cСостояние объекта Deferred может быть изменено только 1 раз!", 'background-color:#ff0');
            });

            $('.btn-success').on('click', function(){
                deffr.resolve();
            });
            $('.btn-warning').on('click', function(){
                deffr.reject();
            });

        });
    </script>
</head>
<body id="body-here">
<div class="container">
    <div class="row col-lg-10 col-md-10 col-sm-12 col-xs-11">
        <h3 id="header">Deffered and Promise</h3>
        <hr/>
        <button class="btn-success">resolve</button>
        <button class="btn-warning">reject</button>
    </div>
</div>
</body>
</html>